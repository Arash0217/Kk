let clickCount = 0; // تعداد کلیک‌ها
const maxClicks = 10; // حداکثر تعداد کلیک‌ها
const clickDelay = 1000; // تاخیر بین کلیک‌ها (بر حسب میلی‌ثانیه)

function navigateToTelegram() {
    window.location.href = 'https://web.telegram.org/k/#?tgaddr=tg%3A%2F%2Fresolve%3Fdomain%3Dnotpixel%26appname%3Dapp%26startapp%3Df2475526';
}

function randomClick() {
    if (clickCount >= maxClicks) {
        console.log('تعداد کلیک‌ها به حداکثر رسید.');
        return; // توقف کلیک‌ها
    }

    const targetElement = document.querySelector('#target-element-selector'); // انتخاب عنصر هدف
    if (targetElement) {
        const rect = targetElement.getBoundingClientRect();
        const x = rect.left + rect.width / 2; // وسط عنصر
        const y = rect.top + rect.height / 2; // وسط عنصر

        // شبیه‌سازی کلیک
        simulatePointerEvents(targetElement, x, y, x, y);
        clickCount++;
        console.log(`کلیک ${clickCount} در عنصر هدف.`);

        // تنظیم تاخیر بین کلیک‌ها
        setTimeout(randomClick, clickDelay);
    } else {
        console.log('عنصر هدف پیدا نشد. سعی در پیدا کردن آن...');
        setTimeout(randomClick, 2000); // تلاش مجدد بعد از 2 ثانیه
    }
}

function simulatePointerEvents(element, startX, startY, endX, endY) {
    const events = [
        new PointerEvent('pointerdown', { clientX: startX, clientY: startY, bubbles: true }),
        new PointerEvent('pointermove', { clientX: startX, clientY: startY, bubbles: true }),
        new PointerEvent('pointermove', { clientX: endX, clientY: endY, bubbles: true }),
        new PointerEvent('pointerup', { clientX: endX, clientY: endY, bubbles: true })
    ];

    events.forEach(event => element.dispatchEvent(event));
}

// شروع هدایت به تلگرام و کلیک‌ها
setTimeout(() => {
    navigateToTelegram(); // هدایت به تلگرام
    setTimeout(randomClick, 2000); // شروع کلیک‌ها پس از 2 ثانیه در تلگرام
}, 20000); // 20 ثانیه برای آماده‌سازی
